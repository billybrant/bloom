CREATE DATABASE  IF NOT EXISTS `bloom` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `bloom`;
-- MySQL dump 10.13  Distrib 5.6.13, for Win32 (x86)
--
-- Host: 127.0.0.1    Database: bloom
-- ------------------------------------------------------
-- Server version	5.6.17

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `search_dataset`
--

DROP TABLE IF EXISTS `search_dataset`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `search_dataset` (
  `sid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'Search item ID, e.g. node ID for nodes.',
  `type` varchar(16) NOT NULL COMMENT 'Type of item, e.g. node.',
  `data` longtext NOT NULL COMMENT 'List of space-separated words from the item.',
  `reindex` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'Set to force node reindexing.',
  PRIMARY KEY (`sid`,`type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Stores items that will be searched.';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `search_dataset`
--

LOCK TABLES `search_dataset` WRITE;
/*!40000 ALTER TABLE `search_dataset` DISABLE KEYS */;
INSERT INTO `search_dataset` VALUES (1,'node',' bloom overview bloom is a platform for developing and delivering web applications to conduct research at meei the initial motivation was an ever growing awareness that researchers were struggling with their data collecting maintaining scrubbing and extracting their data for loading into analytical tools was becoming increasingly challenging as the originally adopted tools aged security requirements became radically more stringent and expectations among grantors and colleagues rose extremely common is the need to migrate data from excel paradox foxpro and other applications that ultimately proved deficient to the task for the techies out there it s the drupal cms with lots of configuration module selection running on windows server 2008 r3 apache 24 php 55 and mysql 56  ',0),(12,'node',' narratives narratives are a collection of prose regarding different aspects of bloom design and use  ',0),(13,'node',' when do i need to change my dev site and do a new release  when is a new release needed  bloom employs a software development methodology called release management fundamentally release management is a process where changes to software are performed on a development instance aka dev of the application tested and then once all is well those changes are promoted to the production instance through the use of version control software bloom uses git this begs the question what use of bloom cause changes that need to be made to the development instance and promoted following are examples of things you do with a bloom site that do not require a new release adding new content editing existing content adding users importing data exporting data the following are changes that should be done first to dev and then released changes to themes creation and modification of content types addition of drupal modules drupal upgrades adding or modifying roles  ',0),(14,'node',' bloom administration recipes administration tasks broken into discreet steps  ',0),(15,'node',' how do i create and push a new release of my bloom site  how do i create and push a new release of my bloom site  make sure repository is up to date change directory to where your repository is located at command prompt git add all optionally git status to see what your commit will do git commit m the message describing what you are doing or what was added use your web browser to visit your dev instance eg https mysitedevmeeiharvardedu  make whatever changes you want remember you don t need to be very careful for two reasons first it s not your production site which is merrily spinning along unaffected as you work in development and second your entire site is backed up and maintained via version control so if you break it we can always revert to the last version test everything to ensure that not only your new changes are doing what you want them to do but all the original functionality is still working properly once you re sure it s all as you want visit the bloom service request form  then we logon to the machine that hosts your bloom production instance launch a command prompt cd to the directory that holds all your bloom site content eg e usersites mysite run the command e usersites mysite git pull just that easy  ',0),(17,'node',' how do i deploy a minor upgrade of drupal to my bloom sites  deploy a minor upgrade to drupal download the latest  drupal   into e usersites unzip unzipping left me with a drupal inside a drupal so you may need to do some renaming and moving to get the drupal7xx that actually contains stuff into e usersites follow the intsructions in e usersites drupal7xx upgradetxt for 726 727 the following steps were executed   put site in maintenance mode except sites git and gitignore delete everything in e usersites bloom e usersites cp r drupal727 drupal727 htaccess bloom then you have to merge the database connection details from the old e usersites bloom sites default settingphp into the new e usersites sites default defaultsettingphp and overwrite the old e usersites bloom sites default settingphp run the update script browse to https bloomdevmeeiharvardedu updatephp ok ok ok except that i filled in the database connection details from the new e usersites bloom sites default settingphp and the install script moved me over to the upgrade version i went to reports available updates and ran it a couple more times to get everything all in sync commit a version control update cd e usersites bloom git add all  ',0),(18,'node',' how do i save a snapshot of a bloom site  save a new snapshot of an entir e usersite in version control launch mysql workbench click data export check the usersite s database start export button bottom right get a command window and set your working directory to e usersites usersite e usersites bloom git add all e usersites bloom git commit m description of the current state of what you re saving database backup name from above  ',0),(19,'node',' documentation the menu on the left offers different articles documenting bloom use and administration don t forget bloom is just an extensively configured drupal instance so you can use that enormous mass of books online help forums  ',0),(20,'node',' how to create a new bloom development site creating a bloom development user site  create the database with mysql workbench from the database menu select migration wizard accept defaults until you get to the schema selection screen and check only bloomdev defaults again until manual editing select all objects from the drop down on the right target objects column edit the database name changing it to your usersite s name note the last screen bulk data transfer takes about 5 minutes to complete create the mysql user that drupal will use for access users and privileges menu on left add account button login tab you set login name and the password schema privileges tab add entry button on right selected schema radio button highlight the usersite schema ok select all button check grant option apply i do refresh too create a cname or whatever on ritwampdev i edit the c windows system32 drivers etc hosts add an apache vhost by editing e apache24 conf extra httpdvhostsconf just mimic what s there open a command prompt and cd to e usersites e usersites git clone file e usersites bloom usersite you set usersite to the new one edit e usersites usersite sites default settingsphp search for bloom you only need to change those mysql parameters drupal tweaks browse to http usersitedevmeeiharvardedu login as admin ask billy if we haven t figured out how to securely store these click on the configuration menu top right site information change the site name to usersitemeeiharvardedu report main menu status report click the requested stuff update checks and the like    ',0),(21,'node',' how do i change the site name  login as administrator click the configuration menu at the top of the screen select site information in the top left of the body of the page change the value of the top field ie site name click save configuration at the bottom of the screen qed  ',0),(22,'node',' how do i apply updates  click on the reports menu at the top of the page select available updates near the top click on check manually navigate to the update tab on the upper right  ',0),(23,'node',' how to create a bloom infrastructure from scratch windows  building a bloom system from scratch follow the drupal installation instructions best suited to your environment bloom is platform independent now you replace drupal s delivered default web content with bloom bloom is composed of that directory tree of source files and a mysql database first delete the entire drupal web content tree the way to identify that directory is by examining your web server configuration it wlil be the root directory for your drupal site use git to clone bloom such that the names of the new bloom content tree are similar to the name of the one you just deleted fire it all up and visit http  examplecom  updatephp from here you ve got two options have at it get some folks with drupal skills use the bloom documentation it s deficient by growing and build your site worthy of consideration there s an army of drupal consultants who can help here contact me william billy goedicke  billy brantinteractivecom and we can see if i can help i do have the leg up that i developed bloom below is a diary of an early installation i did details are increasingly outdated but there are some general practices embedded in there that you might find useful create a dedicated disk here it s called e unzip  httpd249win64vc11zip  and copy the folder apache24 to e create git repository cd e apache24 git init git add all git commit m initial load of unzipped and unmodified httpd249win64vc11zip unzip  php5511win32vc11x64zip   and renaame the folder to php then copy to e resulting in e php i use  password safe  to create and maintain passwords it generates obscure randow passwords and securely stores them create git repository cd e php git init git add all git commit m initial load of unzipped and unmodified httpd249win64vc11zip run  mysqlinstallerwebcommunity56170msi   couple okoks set installation path to e mysql set data path to e mysql mysql server 56 a bunch more ok next and the like set dbms root password add users username bloomdev host localhost username bloomtest host localhost windows service name bloomdevtestmysql mysql workbench opens create schema bloomdev create schema bloomtest users and privileges from left menu configure security for bloomdev select user bloomdev schema privileges tab select specific schema radio button select schema bloomdev select all privileges i even add grant option repeat for bloomtest git stuff like above git commit m initial load of result of running mysqlinstallerwebcommunity56170msi apache e apache24 conf httpdconf edits following are lines that changed after editing loadmodule php5module e php php5apache24dll addhandler application xhttpdphp php configure the path to phpini phpinidir e php serverroot e apache24 documentroot e apache24 htdocs directory e apache24 htdocs loadmodule vhostaliasmodule modules modvhostaliasso include conf extra httpdvhostsconf directoryindex indexhtml indexphp apache e apache32 conf extras httpdvhostsconf virtualhost 80 documentroot e usersites bloom servername bloomdevmeeiharvardedu location require all granted location virtualhost e php phpini extension phpgd2dll extension phppdomysqldll extensiondir e php ext extension phpmbstringdll extend drupal functionality with modules we need there s a lot of pointing and clicking for each module i ll detail the first module installation then just give the name of the subsequent modules they re all installed by the same sequence of steps described in the first one chaos tools browse to http eyegenemeeiharvardedu and login select modules from the top tab bar click install new module i rightclick and open this in a new tab so i can switch back and forth click the modules link in the sentence you can find modules use search to find your module you may have to scroll down the returned list click on your module name scroll down to the listing of recommended release archive files and right click to copy the link to the zip for version 7x browse back to the modules installation page on your local server paste the link to the zipfile into installation url and click the install button after install finishes click on enable installed modules scroll down list of modules to your newly installed one and check the enable box on the left click save configuration button at the bottom and move on to the next module entity api workflow  rules field validation addressfield sliderfield date addressfield phone email field fieldgroup views views data export automatic nodetitles  organic groups  universal unique id feeds node export job scheduler   ',0),(24,'node',' bloom user recipes these are step by step recipes for people who are using bloom to conduct medical research  ',0),(25,'node',' how do i get a bloom site  fill in the bloom service request form just under the eye ear log at the top of this screen  ',0),(28,'node',' bloom permission objects bloom s hipaa accomodations the hipaapii content type a special content type think a database table or a spreadsheet is integrated into each bloom site hipaapii consolidates the attributes which can identify a person this allows their access to be tightly controlled the hipaamaster role hipaamaster is the only role that can access hipaapii content  the bloomroler role bloomroler is the only role that can alter or assign roles   ',0),(30,'node',' reference this is just a link farm to external web resources hhs guidance regarding methods for deidentification of protected health information in accordance with the health insurance portability and accountability act hipaa privacy rule ',0),(33,'node',' hipaa protections bloom provides robust authorizations over granular permissions which isolates pii minimizing access which is centrally administered bloom maintains detailed audit logs of all pii access  ',0),(41,'node',' bloom presentation what is bloom bloom is a highly configurable web site which has been customized to meet the needs of medical research what are the features bloom provides hipaa pii protections existing taxonomies of values like icd9 diagnosies and treatments easy to use interface for developing data collections automatic form creation from data collections extensive documentation hundreds of books online chat rooms 15000 freely available modules of software to extend the functionality supports many to many relationships rdbmslike  how is pii protected  the 18 pii fields are preconfigured pii data is only accessible by role membership assignment of pii role is limited to a separate role the importance of cardinality by example a survey is 11 that is 1 person gives 1 answer to each question one last name one heart rate in contrast one patient may see many doctors and one doctor can see many patients the relationship between doctors and patients is many many like symptoms to patients symptoms to treatments  ',0),(42,'node',' joining content types nodes entitiies views and taxonomies overview of this document the development of a userfriendly feature rich blending of different of elements on input forms in bloom is challenging elements have distinct metadata complex interdepencies and interrelated modules each with myriad settings here we provide recipes for a set of element relations commonly required to deploy bits of functionality eg selecting nodes from a selection list in a form  providing a tree taxonomy checkbox widget in the node add of a content type requires term reference module create the taxonomy create the content type add a field type term reference widget term reference tree check start minimized scroll to bottom number of values unlimited or single option vocabulary  yourvocabulary save manage display tab way at top term reference format is link  ',0);
/*!40000 ALTER TABLE `search_dataset` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2014-08-08 11:12:48
